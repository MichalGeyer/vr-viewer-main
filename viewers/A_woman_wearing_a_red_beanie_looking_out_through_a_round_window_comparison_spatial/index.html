<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <title>360 stereo video</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <link type="text/css" rel="stylesheet" href="../../css/main.css">
    <script type="importmap">
        {
          "imports": {
            "three": "https://cdn.jsdelivr.net/npm/three@0.166.1/build/three.module.js",
            "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.166.1/examples/jsm/"
          }
        }
    </script>
</head>
<body>
    <div id="container" style="position: absolute; top: 50%; left: 50%; 
         transform: translate(-50%, -50%); display: flex; 
         justify-content: center; align-items: center; width: auto; height: auto;">
    </div>
    
    <video id="video" loop muted crossorigin="anonymous" playsinline style="display:none">
      <source src="https://michalgeyer.github.io/vr-viewer-files-webm/pairs-user-study-webm/A_woman_wearing_a_red_beanie_looking_out_through_a_round_window/comparison_spatial.webm" type="video/webm">
    </video>
    
    <script type="module" src="stereo.js"></script>
</body>
</html> -->


<!DOCTYPE html>
<html lang="en">
<head>
    <title>360 Stereo Video</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <link type="text/css" rel="stylesheet" href="../../css/main.css">
    <script type="importmap">
        {
          "imports": {
            "three": "https://cdn.jsdelivr.net/npm/three@0.166.1/build/three.module.js",
            "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.166.1/examples/jsm/"
          }
        }
    </script>
</head>
<body>
    <div id="container" style="position: absolute; top: 50%; left: 50%; 
         transform: translate(-50%, -50%); display: flex; 
         justify-content: center; align-items: center; width: auto; height: auto;">
    </div>
    
    <video id="video" loop muted crossorigin="anonymous" playsinline style="display:none">
      <source src="https://michalgeyer.github.io/vr-viewer-files-webm/pairs-user-study-webm/A_woman_wearing_a_red_beanie_looking_out_through_a_round_window/comparison_spatial.webm" type="video/webm">
    </video>
    
    <script type="module">
        const video = document.getElementById('video');
        const maxPlays = 4; // Number of times the video should play
        let playCount = 0;

        // Start playing the video
        video.play();

        // Event listener for when the video ends
        video.addEventListener('ended', () => {
            playCount++;
            if (playCount >= maxPlays) {
                video.loop = false; // Disable looping
                video.currentTime = 3; // Pause on a specific frame (time in seconds)
                video.pause();
            }
        });
    </script>
</body>
</html>
